var powerform=function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t?JSON.parse(JSON.stringify(t)):t},a=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.error=null,this.previousValue=null,this.currentValue=null,this.initialValue=null,this.config=e,this.defaultValue=this.initialValue=e&&void 0!==e.default&&null!==e.default?r(e.default):null,this.setData(this.defaultValue),this.makePrestine()}return n(t,[{key:"clean",value:function(t){return t}},{key:"modify",value:function(t,e){return t}},{key:"notify",value:function(t){var e=this.config.onChange;e&&e(r(t),this.getError(),this),this.parent&&this.parent.getNotified&&this.parent.notifyChange()}},{key:"setData",value:function(t){if(!a(this.currentValue,t)){this.previousValue=r(this.currentValue),this.currentValue=this.modify(r(t),r(this.previousValue));var e=this.config.debounce;e?(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.notify.bind(this,this.currentValue),e)):this.notify(this.currentValue)}}},{key:"getData",value:function(){return r(this.currentValue)}},{key:"getCleanData",value:function(){return this.clean(this.getData())}},{key:"isValid",value:function(t){var e=this.validate(this.currentValue,this.parent&&this.parent.getData(),this.fieldName)||null;return!t&&this.setError(e),!e}},{key:"setError",value:function(t){if(this.error!==t){this.error=t||null;var e=this.config.onChange;e&&e(this.getData(),t),this.parent&&this.parent.getNotified&&this.parent.notifyChange()}}},{key:"getError",value:function(){return this.error}},{key:"isDirty",value:function(){return this.previousValue!==this.currentValue}},{key:"makePrestine",value:function(){this.previousValue=r(this.currentValue),this.initialValue=r(this.currentValue),this.error=null}},{key:"reset",value:function(){this.setData(r(this.initialValue)),this.makePrestine()}},{key:"setAndValidate",value:function(t){return this.setData(t),this.isValid(),this.getError()}}],[{key:"new",value:function(t){return new this(t)}}]),t}(),s=function(){function t(){i(this,t)}return n(t,[{key:"setData",value:function(t){this.toggleNotificationFlag();for(var e in t)this._fields.indexOf(e)!==-1&&this[e].setData(t[e]);this.toggleNotificationFlag(),this.notifyChange()}},{key:"notifyChange",value:function(){var t=this.config.onChange;t&&t(this.getData(),this.getError(),this)}},{key:"getData",value:function(){var t=this;return this._fields.reduce(function(e,i){return e[i]=t[i].getCleanData(),e},{})}},{key:"getUpdates",value:function(){var t=this;return this._fields.reduce(function(e,i){return t[i].isDirty()&&(e[i]=t[i].getData()),e},{})}},{key:"setError",value:function(t){this.toggleNotificationFlag();for(var e in t)this._fields.indexOf(e)!==-1&&this[e].setError(t[e]);this.toggleNotificationFlag(),this.notifyChange()}},{key:"getError",value:function(){var t=this;return this._fields.reduce(function(e,i){return e[i]=t[i].getError(),e},{})}},{key:"isDirty",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,r=this._fields[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var a=n.value;if(this[a].isDirty())return!0}}catch(t){e=!0,i=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw i}}return!1}},{key:"makePrestine",value:function(){var t=this;this._fields.forEach(function(e){t[e].makePrestine()})}},{key:"reset",value:function(){var t=this;this._fields.forEach(function(e){t[e].reset()})}},{key:"isValid",value:function(t){var e=this;this.toggleNotificationFlag();var i=this._fields.reduce(function(i,n){return e[n].isValid(t)&&i},!0);return this.toggleNotificationFlag(),this.notifyChange(),i}},{key:"toggleNotificationFlag",value:function(){this.getNotified=!this.getNotified}}],[{key:"new",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new this;e._fields=[],e.config=t,e.getNotified=!0;for(var i in e){var n=e[i];e.hasOwnProperty(i)&&n instanceof u&&(n.parent=e,n.fieldName=i,e._fields.push(i))}return t.data&&e.setData(t.data),e}}]),t}();t.exports={Form:s,Field:u}}]);
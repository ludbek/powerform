var powerform=function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),n=function(t){return t?JSON.parse(JSON.stringify(t)):t},a=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.error=null,this.previousValue=null,this.currentValue=null,this.initialValue=null,this.config=e,this.defaultValue=this.initialValue=e&&void 0!==e.default&&null!==e.default?n(e.default):null,this.setData(this.defaultValue,!0),this.makePrestine()}return r(t,[{key:"clean",value:function(t){return t}},{key:"modify",value:function(t,e){return t}},{key:"triggerOnError",value:function(){var t=this.config.onError;t&&t(n(this.getError()),this),this.parent&&this.parent.triggerOnError()}},{key:"triggerOnChange",value:function(){var t=this.config.onChange;t&&t(n(this.currentValue),this),this.parent&&this.parent.triggerOnChange()}},{key:"setData",value:function(t,e){if(!a(this.currentValue,t)&&(this.previousValue=n(this.currentValue),this.currentValue=this.modify(n(t),n(this.previousValue)),!e)){var i=this.config.debounce;i?(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.triggerOnChange.bind(this),i)):this.triggerOnChange()}}},{key:"getData",value:function(){return n(this.currentValue)}},{key:"getCleanData",value:function(){return this.clean(this.getData())}},{key:"isValid",value:function(t){var e=this.validate(this.currentValue,this.parent&&this.parent.getData(),this.fieldName)||null;return!t&&this.setError(e),!e}},{key:"setError",value:function(t,e){this.error!==t&&(this.error=t||null,e||this.triggerOnError())}},{key:"getError",value:function(){return this.error}},{key:"isDirty",value:function(){return this.previousValue!==this.currentValue}},{key:"makePrestine",value:function(){this.previousValue=n(this.currentValue),this.initialValue=n(this.currentValue),this.setError(null)}},{key:"reset",value:function(){this.setData(n(this.initialValue)),this.makePrestine()}},{key:"setAndValidate",value:function(t){return this.setData(t),this.isValid(),this.getError()}}],[{key:"new",value:function(t){return new this(t)}}]),t}(),u=function(){function t(){i(this,t)}return r(t,[{key:"toggleGetNotified",value:function(){this.getNotified=!this.getNotified}},{key:"setData",value:function(t,e){this.toggleGetNotified();for(var i in t)this._fields.indexOf(i)!==-1&&this[i].setData(t[i],e);this.toggleGetNotified(),e||this.triggerOnChange()}},{key:"triggerOnChange",value:function(){var t=this.config.onChange;this.getNotified&&t&&t(this.getData(),this)}},{key:"triggerOnError",value:function(){var t=this.config.onError;this.getNotified&&t&&t(this.getError(),this)}},{key:"getData",value:function(){var t=this;return this._fields.reduce(function(e,i){return e[i]=t[i].getCleanData(),e},{})}},{key:"getUpdates",value:function(){var t=this;return this._fields.reduce(function(e,i){return t[i].isDirty()&&(e[i]=t[i].getData()),e},{})}},{key:"setError",value:function(t,e){this.toggleGetNotified();for(var i in t)this._fields.indexOf(i)!==-1&&this[i].setError(t[i],e);this.toggleGetNotified(),e||this.triggerOnError()}},{key:"getError",value:function(){var t=this;return this._fields.reduce(function(e,i){return e[i]=t[i].getError(),e},{})}},{key:"isDirty",value:function(){var t=!0,e=!1,i=void 0;try{for(var r,n=this._fields[Symbol.iterator]();!(t=(r=n.next()).done);t=!0){var a=r.value;if(this[a].isDirty())return!0}}catch(t){e=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw i}}return!1}},{key:"makePrestine",value:function(){var t=this;this.toggleGetNotified(),this._fields.forEach(function(e){t[e].makePrestine()}),this.toggleGetNotified(),this.triggerOnError()}},{key:"reset",value:function(){var t=this;this.toggleGetNotified(),this._fields.forEach(function(e){t[e].reset()}),this.toggleGetNotified(),this.triggerOnError(),this.triggerOnChange()}},{key:"isValid",value:function(t){var e=this;this.toggleGetNotified();var i=this._fields.reduce(function(i,r){return e[r].isValid(t)&&i},!0);return this.toggleGetNotified(),!t&&this.triggerOnError(),i}}],[{key:"new",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new this;e._fields=[],e.config=t,e.getNotified=!0;for(var i in e){var r=e[i];e.hasOwnProperty(i)&&r instanceof s&&(r.parent=e,r.fieldName=i,e._fields.push(i))}return t.data&&e.setData(t.data,!0),e}}]),t}();t.exports={Form:u,Field:s}}]);